
<!DOCTYPE HTML>
<!--
	Dopetrope 2.0 by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
			<title>usmanijaz</title>
			<meta http-equiv="content-type" content="text/html; charset=utf-8" />
			<meta charset="utf-8" />
			<link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,900,300italic" rel="stylesheet" />
				<link rel="stylesheet" href="/theme/css/pygment.css" />
			<noscript>
				<link rel="stylesheet" href="/theme/css/skel-noscript.css" />
				<link rel="stylesheet" href="/theme/css/style.css" />
				<link rel="stylesheet" href="/theme/css/style-desktop.css" />
			</noscript>
	</head>
	<body class="no-sidebar">
		<!-- Header Wrapper -->
			<div id="header-wrapper">
				<div class="container">
					<div class="row">
						<div class="12u">
						
							<!-- Header -->
								<section id="header">
									
									<!-- Logo -->
									<h1><a href="/">usmanijaz</a></h1>
									
									<!-- Nav -->
										<nav id="nav">
											<ul>
											</ul>
										</nav>

								</section>

						</div>
					</div>
				</div>
			</div>
		
		<!-- Main Wrapper -->
			<div id="main-wrapper">
				<div class="container">
<div class="row">
	<div class="12u">
			<section>
				<div>
					<div class="row">
						<div class="12u skel-cell-mainContent">
							<!-- Content -->
								<article class="box is-post">
									<div class="post-infos">
										<ul class="tags">
											<li><a class="button" href="category/projects.html">Projects</a></li>
												<li><a class="button button-alt" href="tag/r.html">R</a></li>

												<li><a class="button button-alt" href="tag/data-analysis.html">Data analysis</a></li>

										</ul>
									</div>

									<div class="pennant pennant-alt date">2015-06-04</div>
									<h2>STOCK DYNAMICS</h2>
									<p>A stock market is where buyers and sellers trade shares of a company, and is one of the most popular ways for individuals and companies to invest money. The size of the world stock market  is now estimated to be in the trillions.
The largest stock market in the world is the New York Stock Exchange (NYSE), located in New York City. 
About 2,800 companies are listed on the NSYE. 
Today, we'll look at the monthly stock prices of five of these companies: IBM, General Electric (GE), Procter and Gamble, Coca Cola, and Boeing. 
The data used in this problem comes from Infochimps.</p>
<p>Download and read the following files into R, using the read.csv function: IBMStock.csv, GEStock.csv, ProcterGambleStock.csv, CocaColaStock.csv, and BoeingStock.csv.</p>
<p>We will call the data frames "IBM", "GE", "ProcterGamble", "CocaCola", and "Boeing", respectively. Each data frame has two variables, described as follows:</p>
<ul>
<li><strong>Date</strong>: the date of the stock price, always given as the first of the month.</li>
<li><strong>StockPrice</strong>: the average stock price of the company in the given month.</li>
</ul>
<p>We'll take a look at how the stock dynamics of these companies have changed over time.</p>
<p>First we read the data from the csv files.
    IBM = read.csv("IBMStock.csv")
    GE = read.csv("GEStock.csv")
    CocaCola = read.csv("CocaColaStock.csv")
    ProcterGamble = read.csv("ProcterGambleStock.csv")
    Boeing = read.csv("BoeingStock.csv")</p>
<p>Before working with these data sets, we need to convert the dates into a format that R can understand.
Take a look at the structure of one of the datasets using the str function. Right now, the date variable is stored as a factor.
We can convert this to a "Date" object in R by using the following five commands (one for each data set):</p>
<div class="highlight"><pre><span></span><span class="x">IBM</span><span class="p">$</span><span class="nv">Date</span><span class="x"> = as.Date(IBM</span><span class="p">$</span><span class="nv">Date</span><span class="x">, &quot;%m/%d/%y&quot;)</span>
<span class="x">GE</span><span class="p">$</span><span class="nv">Date</span><span class="x"> = as.Date(GE</span><span class="p">$</span><span class="nv">Date</span><span class="x">, &quot;%m/%d/%y&quot;)</span>
<span class="x">CocaCola</span><span class="p">$</span><span class="nv">Date</span><span class="x"> = as.Date(CocaCola</span><span class="p">$</span><span class="nv">Date</span><span class="x">, &quot;%m/%d/%y&quot;)</span>
<span class="x">ProcterGamble</span><span class="p">$</span><span class="nv">Date</span><span class="x"> = as.Date(ProcterGamble</span><span class="p">$</span><span class="nv">Date</span><span class="x">, &quot;%m/%d/%y&quot;)</span>
<span class="x">Boeing</span><span class="p">$</span><span class="nv">Date</span><span class="x"> = as.Date(Boeing</span><span class="p">$</span><span class="nv">Date</span><span class="x">, &quot;%m/%d/%y&quot;)</span>
</pre></div>


<p>Using the str function, we can see that each data set has 480 observations.
We have monthly data for 40 years, so there are 12*40 = 480 observations.</p>
<p>Using the summary function, the minimum value of the Date variable is January 1, 1970 for any dataset and 
the maximum value of the Date variable is December 1, 2009 for any dataset.</p>
<p>We can also find the minimum, maximum, mean and median prices of the different stocks. </p>
<div class="highlight"><pre><span></span><span class="x">summary(IBM</span><span class="p">$</span><span class="nv">StockPrice</span><span class="x">)</span>
<span class="x">summary(GE</span><span class="p">$</span><span class="nv">StockPrice</span><span class="x">)</span>
<span class="x">summary(CocaCola</span><span class="p">$</span><span class="nv">StockPrice</span><span class="x">)</span>
<span class="x">summary(Boeing</span><span class="p">$</span><span class="nv">StockPrice</span><span class="x">)</span>
<span class="x">summary(ProcterGamble</span><span class="p">$</span><span class="nv">StockPrice</span><span class="x">)</span>
</pre></div>


<p>For finding the standard deviation we can use:<br />
    sd(ProcterGamble$StockPrice)</p>
<h1>Visualizing Stock Dynamics</h1>
<p>Let's plot the stock prices to see if we can visualize trends in stock prices during this time period. 
Using the plot function, we will plot the Date on the x-axis and the StockPrice on the y-axis, for Coca-Cola.
Now, let's add the line for Procter &amp; Gamble too.
We can add a line to a plot in R by using the lines function instead of the plot function. Keeping the plot for Coca-Cola open.</p>
<div class="highlight"><pre><span></span><span class="x">plot(CocaCola</span><span class="p">$</span><span class="nv">Date</span><span class="x">,CocaCola</span><span class="p">$</span><span class="nv">StockPrice</span><span class="x">,type=&#39;l&#39;,col=&quot;red&quot;)</span>
<span class="x">lines(ProcterGamble</span><span class="p">$</span><span class="nv">Date</span><span class="x">,ProcterGamble</span><span class="p">$</span><span class="nv">StockPrice</span><span class="x">,col=&quot;blue&quot;,lty=2)</span>
<span class="x">abline(v=as.Date(c(&quot;2000-03-01&quot;)), lwd=2)</span>
</pre></div>


<p><img alt="Photo" src="../images/RplotStocks.png" style="float: middle; width: 450px;">  </p>
<p>Looking at the plot, the maximum value of the StockPrice is around 1973, and the minimum value of the StockPrice is around 1980.
In March of 2000, the technology bubble burst, and a stock market crash occurred.
Looking at the plot, around 2000 both stocks drop, but Procter and Gamble's stock drops more.</p>
<p>We can see that around 1983 the stock for Coca-Cola has an upward trend. </p>
<h1>Visualizing Stock Dynamics 1995-2005</h1>
<p>Let's take a look at how the stock prices changed from 1995-2005 for all five companies. 
In our R console, start by typing the following plot command:</p>
<div class="highlight"><pre><span></span><span class="x">plot(CocaCola</span><span class="p">$</span><span class="nv">Date</span><span class="x">[301:432], CocaCola</span><span class="p">$</span><span class="nv">StockPrice</span><span class="x">[301:432], type=&quot;l&quot;, col=&quot;red&quot;, ylim=c(0,210))</span>
</pre></div>


<p>This will plot the CocaCola stock prices from 1995 through 2005, which are the observations numbered from 301 to 432. 
The additional argument, ylim=c(0,210), makes the y-axis range from 0 to 210. 
This will allow us to see all of the stock values when we add in the other companies.</p>
<p>Now, we use the lines function to add in the other four companies, remembering to only plot the observations from 1995 to 2005,
 or [301:432]. We don't need the "type" or "ylim" arguments for the lines function, but remember to make each company a 
 different color so that you can tell them apart. Some color options are "red", "blue", "green", "purple", "orange", and "black". 
 To see all of the color options in R, type colors() in your R console.</p>
<div class="highlight"><pre><span></span><span class="x">plot(CocaCola</span><span class="p">$</span><span class="nv">Date</span><span class="x">[301:432], CocaCola</span><span class="p">$</span><span class="nv">StockPrice</span><span class="x">[301:432], type=&quot;l&quot;, col=&quot;red&quot;, ylim=c(0,210))</span>
<span class="x">lines(ProcterGamble</span><span class="p">$</span><span class="nv">Date</span><span class="x">[301:432],ProcterGamble</span><span class="p">$</span><span class="nv">StockPrice</span><span class="x">[301:432],col=&quot;blue&quot;,lty=2)</span>
<span class="x">lines(GE</span><span class="p">$</span><span class="nv">Date</span><span class="x">[301:432],GE</span><span class="p">$</span><span class="nv">StockPrice</span><span class="x">[301:432],col=&quot;green&quot;,lty=3)</span>
<span class="x">lines(Boeing</span><span class="p">$</span><span class="nv">Date</span><span class="x">[301:432],Boeing</span><span class="p">$</span><span class="nv">StockPrice</span><span class="x">[301:432],col=&quot;yellow&quot;,lty=4)</span>
<span class="x">lines(IBM</span><span class="p">$</span><span class="nv">Date</span><span class="x">[301:432],IBM</span><span class="p">$</span><span class="nv">StockPrice</span><span class="x">[301:432],col=&quot;orange&quot;,lty=5)</span>
<span class="x">abline(v=as.Date(c(&quot;1997-09-01&quot;)), lwd=2)</span>
<span class="x">abline(v=as.Date(c(&quot;1997-11-01&quot;)), lwd=2)</span>
</pre></div>


<p><img alt="Photo" src="../images/Rplot2002.png" style="float: middle; width: 800px;">    </p>
<p>By looking at this plot, you can see that the stock for General Electric falls significantly more than the other stocks after the technology bubble burst.<br />
In 1995-2002, we can see that IBM has the highest value, around 1999.</p>
<p>In October of 1997, there was a global stock market crash that was caused by an economic crisis in Asia. 
Looking at the plot, two companies had a decreasing trend in stock prices from September 1997 to November 1997: Boeing and Procter &amp; Gamble.</p>
<p>We can also see that Boeing is steadily increasing from 2004 to the beginning of 2006.</p>
<h1>Monthly Trends</h1>
<p>Lastly, let's see if stocks tend to be higher or lower during certain months. 
The overall average stock price for IBM is <strong>144.375</strong>, which can be computed using the command:    </p>
<div class="highlight"><pre><span></span><span class="x">mean(IBM</span><span class="p">$</span><span class="nv">StockPrice</span><span class="x">)</span>
</pre></div>


<p>Comparing the monthly averages to this, using the command </p>
<div class="highlight"><pre><span></span><span class="x">tapply(IBM</span><span class="p">$</span><span class="nv">StockPrice</span><span class="x">, months(IBM</span><span class="p">$</span><span class="nv">Date</span><span class="x">), mean),</span>
</pre></div>


<p>we can see that the price has historically been higher than average during January - May, and lower than average during the remaining months.
We can see the monthly average stock prices for GE and Coca-Cola by using the commands:</p>
<div class="highlight"><pre><span></span><span class="x">tapply(GE</span><span class="p">$</span><span class="nv">StockPrice</span><span class="x">, months(GE</span><span class="p">$</span><span class="nv">Date</span><span class="x">), mean)</span>
<span class="x">tapply(CocaCola</span><span class="p">$</span><span class="nv">StockPrice</span><span class="x">, months(CocaCola</span><span class="p">$</span><span class="nv">Date</span><span class="x">), mean)</span>
</pre></div>


<p>General Electric has an average stock price of <strong>64.48</strong> in April, which is higher than any other month. 
Coca-Cola has an average stock price of <strong>62.69</strong> in April, which is higher than any other month.</p>
<p>IBM has an average price of 140.76 in December, and 150.24 in January, which can be seen with the command:</p>
<div class="highlight"><pre><span></span><span class="x">tapply(IBM</span><span class="p">$</span><span class="nv">StockPrice</span><span class="x">, months(IBM</span><span class="p">$</span><span class="nv">Date</span><span class="x">), mean)</span>
</pre></div>


<p>Having lower stock prices in December is a trend that holds for all five companies.</p>
<p>After seeing these trends, we are ready to buy stock in certain months and sell it in others! But, we should be careful, 
because one really good or really bad year could skew the average to show a trend that is not really there in general.</p>
								</article>
						</div>
					</div>
				</div>
			</section>
	</div>
</div>

				</div>
			</div>

		<!-- Footer Wrapper -->
			<div id="footer-wrapper">
				<!-- Footer -->
					<section id="footer" class="container">
						<div class="row">
							<div class="8u">
								<section>
									<header>
										<h2>Latest articles</h2>
									</header>
									<ul class="dates">
										<li>
											<span class="date">Jun <strong>20</strong></span>
											<h3><a href="letter-recognition.html">LETTER RECOGNITION</a></h3>
											<p><p>One of the earliest applications of the predictive analytics methods was to automatically recognize letters, which post office machines use to sort mail.
In this problem, we will build a model that uses statistics of images of four letters in the Roman alphabet -- A, B, P, and R -- to predict ...</p></p>
										</li>
										<li>
											<span class="date">Jun <strong>19</strong></span>
											<h3><a href="understanding-why-people-vote.html">UNDERSTANDING WHY PEOPLE VOTE</a></h3>
											<p><p>In August 2006 three researchers (Alan Gerber and Donald Green of Yale University, and Christopher Larimer of the University of Northern Iowa) carried 
out a large scale field experiment in Michigan, USA to test the hypothesis that one of the reasons people vote is social, or extrinsic, pressure. 
To quote ...</p></p>
										</li>
										<li>
											<span class="date">Jun <strong>18</strong></span>
											<h3><a href="predicting-loan-repayment.html">PREDICTING LOAN REPAYMENT</a></h3>
											<p><p>In the lending industry, investors provide loans to borrowers in exchange for the promise of repayment with interest. 
If the borrower repays the loan, then the lender profits from the interest. However, if the borrower is unable to repay the loan, 
then the lender loses money. Therefore, lenders face the ...</p></p>
										</li>
										<li>
											<span class="date">Jun <strong>17</strong></span>
											<h3><a href="predicting-parole-violators.html">PREDICTING PAROLE VIOLATORS</a></h3>
											<p><p>In many criminal justice systems around the world, inmates deemed not to be a threat to society are released from prison under the parole system prior to completing their sentence. 
They are still considered to be serving their sentence while on parole, and they can be returned to prison if ...</p></p>
										</li>
									</ul>
								</section>
							</div>
						</div>
						<div class="row">
							<div class="4u">
								<section>
									<header>
										<h2>Blogroll</h2>
									</header>
									<ul class="divided">
											<li><a href="http://getpelican.com/">Pelican</a></li>
											<li><a href="http://python.org/">Python.org</a></li>
											<li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
											<li><a href="#">You can modify those links in your config file</a></li>
									</ul>
								</section>
							</div>
							<div class="4u">
								<section>
									<header>
										<h2>Categories</h2>
									</header>
									<ul class="divided">
											<li><a href="/category/projects.html">Projects</a></li>
									</ul>
								</section>
							</div>
							<div class="4u">
							
								<section>
									<header>
										<h2>Contact</h2>
									</header>
									<ul class="social">
									</ul>
								</section>
							</div>
						</div>
					</section>
			</div>
		<script src="/theme/js/jquery.min.js"></script>
		<script src="/theme/js/jquery.dropotron.js"></script>
		<script src="/theme/js/config.js"></script>
		<script src="/theme/js/skel.min.js"></script>
		<script src="/theme/js/skel-panels.min.js"></script>
		<!--[if lte IE 8]><script src="js/html5shiv.js"></script><link rel="stylesheet" href="/theme/css/ie8.css" /><![endif]-->
	</body>
</html>